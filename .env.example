# ================================================
# EasySSH 环境变量配置
# ================================================
#
# 使用说明：
# 1. 复制此文件为 .env：cp .env.example .env
# 2. 修改下面的配置值（特别是安全相关的）
# 3. Docker 部署：cd docker && docker compose up -d
# 4. 开发环境：./scripts/dev.sh
#
# ⚠️  生产环境必须修改的配置项已用 [必改] 标记
# ================================================

# ================================
# 数据库配置
# ================================
# PostgreSQL 主机地址
# Docker 部署: postgres
# 开发环境: localhost
DB_HOST=postgres

# PostgreSQL 端口
DB_PORT=5432

# 数据库用户名
DB_USER=easyssh

# 数据库密码 [必改]
# 生产环境请使用强密码（至少 16 个字符，包含大小写字母、数字、特殊字符）
DB_PASSWORD=easyssh_dev_password

# 数据库名称
DB_NAME=Easyssh_db

# SSL 模式（disable, require, verify-ca, verify-full）
DB_SSLMODE=disable

# 是否启用 SQL 调试日志（生产环境建议设为 false）
DB_DEBUG=false

# ================================
# Redis 配置
# ================================
# Redis 主机地址
# Docker 部署: redis
# 开发环境: localhost
REDIS_HOST=redis

# Redis 端口
REDIS_PORT=6379

# Redis 密码（留空表示无密码）
REDIS_PASSWORD=

# Redis 数据库索引
REDIS_DB=0

# ================================
# 应用配置
# ================================
# 运行环境（development, production）
ENV=production

# Gin 框架模式（debug, release）
GIN_MODE=release

# 后端 API 端口
PORT=8521

# 前端服务端口
WEB_PORT=8520

# 后端服务地址（前端使用）
# 开发环境: http://localhost:8521
# 生产环境: http://your-domain.com/api 或 https://api.yourdomain.com
NEXT_PUBLIC_API_BASE=http://localhost:8521

# ================================
# 安全配置 [必改]
# ================================
# JWT 签名密钥 [必改]
# 至少 64 个字符的随机字符串
# 生成命令: openssl rand -base64 48
# 开发环境默认值（生产环境必须修改）
JWT_SECRET=easyssh-secret-change-in-production
# JWT 访问令牌过期时间（小时）
JWT_ACCESS_EXPIRE_HOURS=1

# JWT 刷新令牌过期时间（小时，默认 7 天）
JWT_REFRESH_EXPIRE_HOURS=168

# 数据加密密钥 [必改]
# 必须是 32 字节（24 个 base64 字符）
# 生成命令: openssl rand -base64 24
# 开发环境默认值（生产环境必须修改）
ENCRYPTION_KEY=easyssh-encryption-key-32bytes!!

# ================================
# PostgreSQL 容器配置（Docker 部署）
# ================================
# PostgreSQL 用户名（与 DB_USER 保持一致）
POSTGRES_USER=easyssh

# PostgreSQL 密码（与 DB_PASSWORD 保持一致） [必改]
POSTGRES_PASSWORD=easyssh_dev_password

# PostgreSQL 数据库名（与 DB_NAME 保持一致）
POSTGRES_DB=Easyssh_db

# ================================
# AI 配置（可选）
# ================================
# OpenAI API Key（用于 AI 功能）
OPENAI_API_KEY=your_openai_api_key_here

# ================================
# 生成安全密钥的命令
# ================================
# 在终端中运行以下命令生成安全的密钥：
#
# JWT Secret (64+ 字符):
#   openssl rand -base64 48
#
# Encryption Key (32 字节):
#   openssl rand -base64 24
#
# 示例：
#   JWT_SECRET=7vZ9mK3pQ2wX8nR5tY1uI6oP0aS4dF7gH9jK2lM5nB8vC1xZ3qW6eR9tY2uI5oP8
#   ENCRYPTION_KEY=3kH7jM9pQ2wX5nR8tY1uI4oP
# ================================

